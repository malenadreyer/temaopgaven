---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const employeeData = await fetch(
    "https://raw.githubusercontent.com/malenadreyer/frontend-design/main/resources/json/employees.json"
  ).then((res) => res.json());

  return employeeData.map((employee) => {
    return {
      params: { slug: employee.slug },
      props: { ...employee },
    };
  });
}

const { name, title, img, description, social_links, slug } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/images/*.{jpeg,jpg,png,gif}"
);
if (!images[img])
  throw new Error(
    `"${img}" does not exist in glob: "/src/assets/images/*.{jpeg,jpg,png,gif}"`
  );
---

<BaseLayout title ="Team">
</BaseLayout>